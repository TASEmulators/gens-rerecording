Shadowrun (J)


Fast-forward the game until the first in-game dialogue action.

Choose the default options. Dialogue and a portrait pop up.

$CA00 NT-A + $9800 VRAM tiles.

; ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
; ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

hook_ppu1 1 9800 981f

[FF:43B4] VRAM DMA from 204402 to 9800 [0080]
- SRC_H = $FF:438E  ~~  LEN_H = $FF:4368


(..)

FF:439C  48 42  SWAP.w  D2                       A0=00FFCB38 A1=0023E800 A2=00C00004 A3=00FFC930 A4=00FFCA6E A5=00212C06 A6=FFFFD400 A7=FFFFFCA6 D0=E37D9800 D1=00F40011 D2=DDDD5800 D3=00FFFFFF D4=0023E800 D5=00000000 D6=00000000 D7=00000018 xnzvc
FF:439E  34 00  MOVE.w  D0,D2                    A0=00FFCB38 A1=0023E800 A2=00C00004 A3=00FFC930 A4=00FFCA6E A5=00212C06 A6=FFFFD400 A7=FFFFFCA6 D0=E37D9800 D1=00F40011 D2=5800DDDD D3=00FFFFFF D4=0023E800 D5=00000000 D6=00000000 D7=00000018 xnzvc
FF:43A0  E5 5A  ROL.W   #2,D2                    A0=00FFCB38 A1=0023E800 A2=00C00004 A3=00FFC930 A4=00FFCA6E A5=00212C06 A6=FFFFD400 A7=FFFFFCA6 D0=E37D9800 D1=00F40011 D2=58009800 D3=00FFFFFF D4=0023E800 D5=00000000 D6=00000000 D7=00000018 xNzvc
FF:43A2  02 42  ANDI.W  #$0003,D2                A0=00FFCB38 A1=0023E800 A2=00C00004 A3=00FFC930 A4=00FFCA6E A5=00212C06 A6=FFFFD400 A7=FFFFFCA6 D0=E37D9800 D1=00F40011 D2=58006002 D3=00FFFFFF D4=0023E800 D5=00000000 D6=00000000 D7=00000018 xnzvc
FF:43A6  00 42  ORI.W   #$0080,D2                A0=00FFCB38 A1=0023E800 A2=00C00004 A3=00FFC930 A4=00FFCA6E A5=00212C06 A6=FFFFD400 A7=FFFFFCA6 D0=E37D9800 D1=00F40011 D2=58000002 D3=00FFFFFF D4=0023E800 D5=00000000 D6=00000000 D7=00000018 xnzvc

; DMA to VRAM

FF:43AA  33 C2  MOVE.w  D2,($00FFC404)           A0=00FFCB38 A1=0023E800 A2=00C00004 A3=00FFC930 A4=00FFCA6E A5=00212C06 A6=FFFFD400 A7=FFFFFCA6 D0=E37D9800 D1=00F40011 D2=58000082 D3=00FFFFFF D4=0023E800 D5=00000000 D6=00000000 D7=00000018 xnzvc
FF:43B0  34 B9  MOVE.w  ($00FFC404),(A2)         A0=00FFCB38 A1=0023E800 A2=00C00004 A3=00FFC930 A4=00FFCA6E A5=00212C06 A6=FFFFD400 A7=FFFFFCA6 D0=E37D9800 D1=00F40011 D2=58000082 D3=00FFFFFF D4=0023E800 D5=00000000 D6=00000000 D7=00000018 xnzvc

Look in 'ram_word_2mb.bin' @ $4400.

; ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
; ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

(M68K)
hook_wr1 0 4400 7f441f
--> Nothing.

(S68K)
hook_wr1 0 4400 7f441f

[01:1304] W32 = DDDDDDDD [084400]
[01:136A] W32 = DDDDDDDD [084404]
[01:136A] W32 = DDDDDDDD [084408]
[01:136A] W32 = DC1DDDDD [08440C]
[01:136A] W32 = DDC1DDDD [084410]
[01:136A] W32 = DDC1DDDD [084414]
[01:136A] W32 = DC1DDDDD [084418]
[01:136A] W32 = DC1DDDDD [08441C]


01:121C  61 00  BSR     #$001A [01:1238]         A0=0005FAD0 A1=0009384A A2=000111AC A3=00084400 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E26 D0=0006801C D1=FFFF0000 D2=FFFF0006 D3=00000080 D4=0000FFFF D5=00000000 D6=0000D800 D7=00000411 xnzVc

; ===================================================================

01:1238  60 00  BRA     #$0098 [01:12D2]         A0=0005FAD0 A1=0009384A A2=000111AC A3=00084400 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E22 D0=0006801C D1=FFFF0000 D2=FFFF0006 D3=00000080 D4=0000FFFF D5=00000000 D6=0000D800 D7=00000411 xnzVc

01:12D2  0C 40  CMPI.W  #$8000,D0                A0=0005FAD0 A1=0009384A A2=000111AC A3=00084400 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E22 D0=0006801C D1=FFFF0000 D2=FFFF0006 D3=00000080 D4=0000FFFF D5=00000000 D6=0000D800 D7=00000411 xnzVc
01:12D6  65 00  BCS     #$00B2 [01:138A]         A0=0005FAD0 A1=0009384A A2=000111AC A3=00084400 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E22 D0=0006801C D1=FFFF0000 D2=FFFF0006 D3=00000080 D4=0000FFFF D5=00000000 D6=0000D800 D7=00000411 xnzvc

01:12DA  0C 40  CMPI.W  #$9A00,D0                A0=0005FAD0 A1=0009384A A2=000111AC A3=00084400 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E22 D0=0006801C D1=FFFF0000 D2=FFFF0006 D3=00000080 D4=0000FFFF D5=00000000 D6=0000D800 D7=00000411 xnzvc
01:12DE  64 00  BCC     #$00AA [01:138A]         A0=0005FAD0 A1=0009384A A2=000111AC A3=00084400 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E22 D0=0006801C D1=FFFF0000 D2=FFFF0006 D3=00000080 D4=0000FFFF D5=00000000 D6=0000D800 D7=00000411 xNzvC

01:12E2  48 E7  MOVEM.L {d0-a7}[60 00],-(A7)     A0=0005FAD0 A1=0009384A A2=000111AC A3=00084400 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E22 D0=0006801C D1=FFFF0000 D2=FFFF0006 D3=00000080 D4=0000FFFF D5=00000000 D6=0000D800 D7=00000411 xNzvC
01:12E6  02 80  ANDI.L  #$00007FFF,D0            A0=0005FAD0 A1=0009384A A2=000111AC A3=00084400 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=0006801C D1=FFFF0000 D2=FFFF0006 D3=00000080 D4=0000FFFF D5=00000000 D6=0000D800 D7=00000411 xNzvC
01:12EC  C0 FC  MULU.W  #$001C,D0                A0=0005FAD0 A1=0009384A A2=000111AC A3=00084400 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=0000001C D1=FFFF0000 D2=FFFF0006 D3=00000080 D4=0000FFFF D5=00000000 D6=0000D800 D7=00000411 xnzvc

; Base font offset + local tile offset

01:12F0  45 F9  LEA     ($00054000),A2           A0=0005FAD0 A1=0009384A A2=000111AC A3=00084400 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=00000310 D1=FFFF0000 D2=FFFF0006 D3=00000080 D4=0000FFFF D5=00000000 D6=0000D800 D7=00000411 xnzvc
01:12F6  D5 C0  ADDA.L  D0,A2                    A0=0005FAD0 A1=0009384A A2=00054000 A3=00084400 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=00000310 D1=FFFF0000 D2=FFFF0006 D3=00000080 D4=0000FFFF D5=00000000 D6=0000D800 D7=00000411 xnzvc

01:12F8  27 79  MOVE.l  ($000111A4),$0040(A3)    A0=0005FAD0 A1=0009384A A2=00054310 A3=00084400 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=00000310 D1=FFFF0000 D2=FFFF0006 D3=00000080 D4=0000FFFF D5=00000000 D6=0000D800 D7=00000411 xnzvc
01:1300  26 F9  MOVE.l  ($000111A4),(A3)+        A0=0005FAD0 A1=0009384A A2=00054310 A3=00084400 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=00000310 D1=FFFF0000 D2=FFFF0006 D3=00000080 D4=0000FFFF D5=00000000 D6=0000D800 D7=00000411 xNzvc
01:1306  3E 3C  MOVE.w  #$000D,D7                A0=0005FAD0 A1=0009384A A2=00054310 A3=00084404 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=00000310 D1=FFFF0000 D2=FFFF0006 D3=00000080 D4=0000FFFF D5=00000000 D6=0000D800 D7=00000411 xNzvc

; ------------------------------------------------------------------

; Read left 8x16 1-bpp font row

01:130A  10 12  MOVE.b  (A2),D0                  A0=0005FAD0 A1=0009384A A2=00054310 A3=00084404 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=00000310 D1=FFFF0000 D2=FFFF0006 D3=00000080 D4=0000FFFF D5=00000000 D6=0000D800 D7=0000000D xnzvc
01:130C  E1 48  LSL.W   #0,D0                    A0=0005FAD0 A1=0009384A A2=00054310 A3=00084404 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=00000300 D1=FFFF0000 D2=FFFF0006 D3=00000080 D4=0000FFFF D5=00000000 D6=0000D800 D7=0000000D xnZvc

; Read right 8x16 1-bpp font row

01:130E  10 2A  MOVE.b  $000E(A2),D0             A0=0005FAD0 A1=0009384A A2=00054310 A3=00084404 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=00000000 D1=FFFF0000 D2=FFFF0006 D3=00000080 D4=0000FFFF D5=00000000 D6=0000D800 D7=0000000D XnZvC
01:1312  52 8A  ADDQ.L  #1,A2                    A0=0005FAD0 A1=0009384A A2=00054310 A3=00084404 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=00000000 D1=FFFF0000 D2=FFFF0006 D3=00000080 D4=0000FFFF D5=00000000 D6=0000D800 D7=0000000D XnZvc

; Init lcv

01:1314  42 83  CLR.L   D3                       A0=0005FAD0 A1=0009384A A2=00054311 A3=00084404 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=00000000 D1=FFFF0000 D2=FFFF0006 D3=00000080 D4=0000FFFF D5=00000000 D6=0000D800 D7=0000000D XnZvc
01:1316  42 84  CLR.L   D4                       A0=0005FAD0 A1=0009384A A2=00054311 A3=00084404 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=00000000 D1=FFFF0000 D2=FFFF0006 D3=00000000 D4=0000FFFF D5=00000000 D6=0000D800 D7=0000000D XnZvc
01:1318  1A 39  MOVE.b  ($000111A0),D5           A0=0005FAD0 A1=0009384A A2=00054311 A3=00084404 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=00000000 D1=FFFF0000 D2=FFFF0006 D3=00000000 D4=00000000 D5=00000000 D6=0000D800 D7=0000000D XnZvc

; 8 pixels per row

01:131E  3C 3C  MOVE.w  #$0007,D6                A0=0005FAD0 A1=0009384A A2=00054311 A3=00084404 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=00000000 D1=FFFF0000 D2=FFFF0006 D3=00000000 D4=00000000 D5=0000000D D6=0000D800 D7=0000000D Xnzvc

; ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

; Next 4-bpp linear pixels

01:1322  E9 8B  LSL.L   #4,D3                    A0=0005FAD0 A1=0009384A A2=00054311 A3=00084404 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=00000000 D1=FFFF0000 D2=FFFF0006 D3=00000000 D4=00000000 D5=0000000D D6=00000007 D7=0000000D Xnzvc

; Read next font bit

01:1324  E3 48  LSL.W   #1,D0                    A0=0005FAD0 A1=0009384A A2=00054311 A3=00084404 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=00000000 D1=FFFF0000 D2=FFFF0006 D3=00000000 D4=00000000 D5=0000000D D6=00000007 D7=0000000D xnZvc
01:1326  65 0A  BCS     #$0A [01:1332]           A0=0005FAD0 A1=0009384A A2=00054311 A3=00084404 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=00000000 D1=FFFF0000 D2=FFFF0006 D3=00000000 D4=00000000 D5=0000000D D6=00000007 D7=0000000D xnZvc

; Color 'off'

01:1328  86 05  OR.B    D5,D3                    A0=0005FAD0 A1=0009384A A2=00054311 A3=00084404 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=00000000 D1=FFFF0000 D2=FFFF0006 D3=00000000 D4=00000000 D5=0000000D D6=00000007 D7=0000000D xnZvc
01:132A  1A 39  MOVE.b  ($000111A0),D5           A0=0005FAD0 A1=0009384A A2=00054311 A3=00084404 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=00000000 D1=FFFF0000 D2=FFFF0006 D3=0000000D D4=00000000 D5=0000000D D6=00000007 D7=0000000D xnzvc
01:1330  60 0C  BRA     #$0C [01:133E]           A0=0005FAD0 A1=0009384A A2=00054311 A3=00084404 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=00000000 D1=FFFF0000 D2=FFFF0006 D3=0000000D D4=00000000 D5=0000000D D6=00000007 D7=0000000D xnzvc

; Color 'on'

01:1332  1A 39  MOVE.b  ($0001119E),D5           A0=0005FAD0 A1=0009384A A2=00054313 A3=0008440C A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=00000000 D1=FFFF0000 D2=FFFF0006 D3=000000D0 D4=00000000 D5=0000000D D6=00000006 D7=0000000B XnZvC
01:1338  86 39  OR.B    ($000111A2),D3           A0=0005FAD0 A1=0009384A A2=00054313 A3=0008440C A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=00000000 D1=FFFF0000 D2=FFFF0006 D3=000000D0 D4=00000000 D5=00000001 D6=00000006 D7=0000000B Xnzvc

; loop # pixels in each row

01:133E  51 CE  DBFa    D6,#$FFE2 [01:1322]      A0=0005FAD0 A1=0009384A A2=00054311 A3=00084404 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=00000000 D1=FFFF0000 D2=FFFF0006 D3=0000000D D4=00000000 D5=0000000D D6=00000007 D7=0000000D xnzvc

; ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

; Repeat steps for right 8x16 tile

01:1342  3C 3C  MOVE.w  #$0007,D6                A0=0005FAD0 A1=0009384A A2=00054311 A3=00084404 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=00000000 D1=FFFF0000 D2=FFFF0006 D3=DDDDDDDD D4=00000000 D5=0000000D D6=0000FFFF D7=0000000D xnzvc

01:1346  E9 8C  LSL.L   #4,D4                    A0=0005FAD0 A1=0009384A A2=00054311 A3=00084404 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=00000000 D1=FFFF0000 D2=FFFF0006 D3=DDDDDDDD D4=00000000 D5=0000000D D6=00000007 D7=0000000D xnzvc
01:1348  E3 48  LSL.W   #1,D0                    A0=0005FAD0 A1=0009384A A2=00054311 A3=00084404 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=00000000 D1=FFFF0000 D2=FFFF0006 D3=DDDDDDDD D4=00000000 D5=0000000D D6=00000007 D7=0000000D xnZvc
01:134A  65 0A  BCS     #$0A [01:1356]           A0=0005FAD0 A1=0009384A A2=00054311 A3=00084404 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=00000000 D1=FFFF0000 D2=FFFF0006 D3=DDDDDDDD D4=00000000 D5=0000000D D6=00000007 D7=0000000D xnZvc

01:134C  88 05  OR.B    D5,D4                    A0=0005FAD0 A1=0009384A A2=00054311 A3=00084404 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=00000000 D1=FFFF0000 D2=FFFF0006 D3=DDDDDDDD D4=00000000 D5=0000000D D6=00000007 D7=0000000D xnZvc
01:134E  1A 39  MOVE.b  ($000111A0),D5           A0=0005FAD0 A1=0009384A A2=00054311 A3=00084404 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=00000000 D1=FFFF0000 D2=FFFF0006 D3=DDDDDDDD D4=0000000D D5=0000000D D6=00000007 D7=0000000D xnzvc
01:1354  60 0C  BRA     #$0C [01:1362]           A0=0005FAD0 A1=0009384A A2=00054311 A3=00084404 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=00000000 D1=FFFF0000 D2=FFFF0006 D3=DDDDDDDD D4=0000000D D5=0000000D D6=00000007 D7=0000000D xnzvc

01:1356  1A 39  MOVE.b  ($0001119E),D5           A0=0005FAD0 A1=0009384A A2=00054314 A3=00084410 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=00000000 D1=FFFF0000 D2=FFFF0006 D3=DDC1DDDD D4=000000D0 D5=0000000D D6=00000006 D7=0000000A XnZvC
01:135C  88 39  OR.B    ($000111A2),D4           A0=0005FAD0 A1=0009384A A2=00054314 A3=00084410 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=00000000 D1=FFFF0000 D2=FFFF0006 D3=DDC1DDDD D4=000000D0 D5=00000001 D6=00000006 D7=0000000A Xnzvc

01:1362  51 CE  DBFa    D6,#$FFE2 [01:1346]      A0=0005FAD0 A1=0009384A A2=00054311 A3=00084404 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=00000000 D1=FFFF0000 D2=FFFF0006 D3=DDDDDDDD D4=0000000D D5=0000000D D6=00000007 D7=0000000D xnzvc

; ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

; Save left / right 8x16 pixel row

01:1366  27 44  MOVE.l  D4,$0040(A3)             A0=0005FAD0 A1=0009384A A2=00054311 A3=00084404 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=00000000 D1=FFFF0000 D2=FFFF0006 D3=DDDDDDDD D4=DDDDDDDD D5=0000000D D6=0000FFFF D7=0000000D xnzvc
01:136A  26 C3  MOVE.l  D3,(A3)+                 A0=0005FAD0 A1=0009384A A2=00054311 A3=00084404 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=00000000 D1=FFFF0000 D2=FFFF0006 D3=DDDDDDDD D4=DDDDDDDD D5=0000000D D6=0000FFFF D7=0000000D xNzvc

; Repeat until 15 pixel rows done

01:136C  51 CF  DBFa    D7,#$FF9C [01:130A]      A0=0005FAD0 A1=0009384A A2=00054311 A3=00084408 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=00000000 D1=FFFF0000 D2=FFFF0006 D3=DDDDDDDD D4=DDDDDDDD D5=0000000D D6=0000FFFF D7=0000000D xNzvc

; -----------------------------------------------------------------------

; Last pixel row (left / right)

01:1370  27 79  MOVE.l  ($000111A8),$0040(A3)    A0=0005FAD0 A1=0009384A A2=0005431E A3=0008443C A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=00000000 D1=FFFF0000 D2=FFFF0006 D3=DDDC1DDD D4=DDDDDDDD D5=0000000D D6=0000FFFF D7=0000FFFF xNzvc
01:1378  26 F9  MOVE.l  ($000111A8),(A3)+        A0=0005FAD0 A1=0009384A A2=0005431E A3=0008443C A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=00000000 D1=FFFF0000 D2=FFFF0006 D3=DDDC1DDD D4=DDDDDDDD D5=0000000D D6=0000FFFF D7=0000FFFF xNzvc

; Update font buffer ptr (4 tiles used)

01:137E  D7 FC  ADDA.L  #$00000040,A3            A0=0005FAD0 A1=0009384A A2=0005431E A3=00084440 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=00000000 D1=FFFF0000 D2=FFFF0006 D3=DDDC1DDD D4=DDDDDDDD D5=0000000D D6=0000FFFF D7=0000FFFF xNzvc
01:1384  4C DF  MOVEM.L (A7)+,{a7-d0}[00 06]     A0=0005FAD0 A1=0009384A A2=0005431E A3=00084480 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E1A D0=00000000 D1=FFFF0000 D2=FFFF0006 D3=DDDC1DDD D4=DDDDDDDD D5=0000000D D6=0000FFFF D7=0000FFFF xNzvc
01:1388  4E 75  RTS                              A0=0005FAD0 A1=0009384A A2=0005431E A3=00084480 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E22 D0=00000000 D1=FFFF0000 D2=FFFF0006 D3=DDDC1DDD D4=DDDDDDDD D5=0000000D D6=0000FFFF D7=0000FFFF xNzvc

So there's our tile building routine. Our script # was $801C.

; ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
; ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

; Read script

01:11F0  30 19  MOVE.w  (A1)+,D0                 A0=0005FAD0 A1=00093840 A2=000111AC A3=00084400 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E26 D0=00060021 D1=FFFF0000 D2=FFFF0006 D3=00000023 D4=0000FFFF D5=00000000 D6=0000D800 D7=00000411 xNzvC

; Retrieve upper 8-bits only

01:11F2  36 00  MOVE.w  D0,D3                    A0=0005FAD0 A1=00093842 A2=000111AC A3=00084400 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E26 D0=00062100 D1=FFFF0000 D2=FFFF0006 D3=00000023 D4=0000FFFF D5=00000000 D6=0000D800 D7=00000411 xnzvc
01:11F4  E0 4B  LSR.W   #0,D3                    A0=0005FAD0 A1=00093842 A2=000111AC A3=00084400 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E26 D0=00062100 D1=FFFF0000 D2=FFFF0006 D3=00002100 D4=0000FFFF D5=00000000 D6=0000D800 D7=00000411 xnzvc

; Control code range..

01:11F6  0C 03  CMPI.B  #$63,D3                  A0=0005FAD0 A1=00093842 A2=000111AC A3=00084400 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E26 D0=00062100 D1=FFFF0000 D2=FFFF0006 D3=00000021 D4=0000FFFF D5=00000000 D6=0000D800 D7=00000411 xnzvc
01:11FA  67 00  BEQ     #$0026 [01:1222]         A0=0005FAD0 A1=00093842 A2=000111AC A3=00084400 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E26 D0=00062100 D1=FFFF0000 D2=FFFF0006 D3=00000021 D4=0000FFFF D5=00000000 D6=0000D800 D7=00000411 xNzvC

01:11FE  0C 03  CMPI.B  #$0D,D3                  A0=0005FAD0 A1=00093842 A2=000111AC A3=00084400 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E26 D0=00062100 D1=FFFF0000 D2=FFFF0006 D3=00000021 D4=0000FFFF D5=00000000 D6=0000D800 D7=00000411 xNzvC
01:1202  67 EC  BEQ     #$EC [01:11F0]           A0=0005FAD0 A1=00093842 A2=000111AC A3=00084400 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E26 D0=00062100 D1=FFFF0000 D2=FFFF0006 D3=00000021 D4=0000FFFF D5=00000000 D6=0000D800 D7=00000411 xnzvc

01:1204  0C 03  CMPI.B  #$24,D3                  A0=0005FAD0 A1=00093842 A2=000111AC A3=00084400 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E26 D0=00062100 D1=FFFF0000 D2=FFFF0006 D3=00000021 D4=0000FFFF D5=00000000 D6=0000D800 D7=00000411 xnzvc
01:1208  67 00  BEQ     #$002C [01:1236]         A0=0005FAD0 A1=00093842 A2=000111AC A3=00084400 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E26 D0=00062100 D1=FFFF0000 D2=FFFF0006 D3=00000021 D4=0000FFFF D5=00000000 D6=0000D800 D7=00000411 xNzvC

01:120C  0C 03  CMPI.B  #$23,D3                  A0=0005FAD0 A1=00093842 A2=000111AC A3=00084400 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E26 D0=00062100 D1=FFFF0000 D2=FFFF0006 D3=00000021 D4=0000FFFF D5=00000000 D6=0000D800 D7=00000411 xNzvC
01:1210  67 00  BEQ     #$0024 [01:1236]         A0=0005FAD0 A1=00093842 A2=000111AC A3=00084400 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E26 D0=00062100 D1=FFFF0000 D2=FFFF0006 D3=00000021 D4=0000FFFF D5=00000000 D6=0000D800 D7=00000411 xNzvC

01:1214  0C 03  CMPI.B  #$21,D3                  A0=0005FAD0 A1=00093842 A2=000111AC A3=00084400 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E26 D0=00062100 D1=FFFF0000 D2=FFFF0006 D3=00000021 D4=0000FFFF D5=00000000 D6=0000D800 D7=00000411 xNzvC
01:1218  67 00  BEQ     #$0012 [01:122C]         A0=0005FAD0 A1=00093842 A2=000111AC A3=00084400 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E26 D0=00062100 D1=FFFF0000 D2=FFFF0006 D3=00000021 D4=0000FFFF D5=00000000 D6=0000D800 D7=00000411 xnZvc

; ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

; Build 16x16 tile

01:121C  61 00  BSR     #$001A [01:1238]         A0=0005FAD0 A1=0009384A A2=000111AC A3=00084400 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E26 D0=0006801C D1=FFFF0000 D2=FFFF0006 D3=00000080 D4=0000FFFF D5=00000000 D6=0000D800 D7=00000411 xnzVc
01:1220  60 CE  BRA     #$CE [01:11F0]           A0=0005FAD0 A1=0009384A A2=0005431E A3=00084480 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E26 D0=00000000 D1=FFFF0000 D2=FFFF0006 D3=DDDC1DDD D4=DDDDDDDD D5=0000000D D6=0000FFFF D7=0000FFFF xNzvc

; ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

01:122C  0C 00  CMPI.B  #$FF,D0                  A0=0005FAD0 A1=00093842 A2=000111AC A3=00084400 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E26 D0=00062100 D1=FFFF0000 D2=FFFF0006 D3=00000021 D4=0000FFFF D5=00000000 D6=0000D800 D7=00000411 xnZvc
01:1230  67 BE  BEQ     #$BE [01:11F0]           A0=0005FAD0 A1=00093842 A2=000111AC A3=00084400 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E26 D0=00062100 D1=FFFF0000 D2=FFFF0006 D3=00000021 D4=0000FFFF D5=00000000 D6=0000D800 D7=00000411 xnzvC

01:1232  58 89  ADDQ.L  #4,A1                    A0=0005FAD0 A1=00093842 A2=000111AC A3=00084400 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E26 D0=00062100 D1=FFFF0000 D2=FFFF0006 D3=00000021 D4=0000FFFF D5=00000000 D6=0000D800 D7=00000411 xnzvC
01:1234  60 BA  BRA     #$BA [01:11F0]           A0=0005FAD0 A1=00093846 A2=000111AC A3=00084400 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E26 D0=00062100 D1=FFFF0000 D2=FFFF0006 D3=00000021 D4=0000FFFF D5=00000000 D6=0000D800 D7=00000411 xnzvC

; ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

01:1222  E8 08  LSR.B   #4,D0                    A0=0005FAD0 A1=00093848 A2=000111AC A3=00084400 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E26 D0=000663C8 D1=FFFF0000 D2=FFFF0006 D3=00000063 D4=0000FFFF D5=00000000 D6=0000D800 D7=00000411 XnZvc
01:1224  13 C0  MOVE.b  D0,($000111A2)           A0=0005FAD0 A1=00093848 A2=000111AC A3=00084400 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E26 D0=0006630C D1=FFFF0000 D2=FFFF0006 D3=00000063 D4=0000FFFF D5=00000000 D6=0000D800 D7=00000411 XnzvC
01:122A  60 C4  BRA     #$C4 [01:11F0]           A0=0005FAD0 A1=00093848 A2=000111AC A3=00084400 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E26 D0=0006630C D1=FFFF0000 D2=FFFF0006 D3=00000063 D4=0000FFFF D5=00000000 D6=0000D800 D7=00000411 Xnzvc

..

01:1236  4E 75  RTS                              A0=0005FAD0 A1=0009387A A2=00054A1E A3=00084F00 A4=00070096 A5=0005ED6A A6=000217A8 A7=00005E26 D0=00002323 D1=FFFF0000 D2=FFFF0006 D3=DDDD0023 D4=CC1DDDDD D5=0000000D D6=0000FFFF D7=0000FFFF xnZvc


$09:3840 is our source script.

Note:
The routine appears to be building the tiles in one batch.
So it may be making two passes on the script - one for tile building and one for output scripting.

; ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
; ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

(M68k)
hook_wr1 0 3840 7f384f

(S68k)
hook_wr1 1 93840 9384f

Double nothing. Oops.

Out of curiosity, open 'ram_word_2m.bin'.
Go to $13840. Check for a match in the ISO.

Aha - $3C840! Uncompressed.


Let's save the game. Reset. When loading the game, turn on logging.

(S68k)
[00:1DCA] W16 = 2100 [093840]
[00:1DCE] W16 = 0000 [093842]
[00:1DD2] W16 = 0000 [093844]
[00:1DD6] W16 = 63C8 [093846]
[00:1DDA] W16 = 801C [093848]
[00:1DDE] W16 = 803A [09384A]
[00:1DE2] W16 = 8055 [09384C]
[00:1DE6] W16 = 8043 [09384E]


00:1E1C  61 AC  BSR     #$AC [00:1DCA]           A0=0005C000 A1=00006068 A2=FFFF8008 A3=FFFF8004 A4=00070096 A5=00000000 A6=000217A8 A7=00005DFA D0=01040030 D1=0000007F D2=FFFF2303 D3=00000000 D4=00000B6F D5=00000BB8 D6=0000D800 D7=00400C01 xnzvc

; =========================================================================

; Read from CD-ROM

00:1DCA  30 D2  MOVE.w  (A2),(A0)+               A0=0005C000 A1=00006068 A2=FFFF8008 A3=FFFF8004 A4=00070096 A5=00000000 A6=000217A8 A7=00005DF6 D0=01040030 D1=0000007F D2=FFFF2303 D3=00000000 D4=00000B6F D5=00000BB8 D6=0000D800 D7=00400C01 xnzvc
00:1DCC  4E 71  NOP                              A0=0005C002 A1=00006068 A2=FFFF8008 A3=FFFF8004 A4=00070096 A5=00000000 A6=000217A8 A7=00005DF6 D0=01040030 D1=0000007F D2=FFFF2303 D3=00000000 D4=00000B6F D5=00000BB8 D6=0000D800 D7=00400C01 xnZvc
00:1DCE  30 D2  MOVE.w  (A2),(A0)+               A0=0005C002 A1=00006068 A2=FFFF8008 A3=FFFF8004 A4=00070096 A5=00000000 A6=000217A8 A7=00005DF6 D0=01040030 D1=0000007F D2=FFFF2303 D3=00000000 D4=00000B6F D5=00000BB8 D6=0000D800 D7=00400C01 xnZvc
00:1DD0  4E 71  NOP                              A0=0005C004 A1=00006068 A2=FFFF8008 A3=FFFF8004 A4=00070096 A5=00000000 A6=000217A8 A7=00005DF6 D0=01040030 D1=0000007F D2=FFFF2303 D3=00000000 D4=00000B6F D5=00000BB8 D6=0000D800 D7=00400C01 xnZvc
00:1DD2  30 D2  MOVE.w  (A2),(A0)+               A0=0005C004 A1=00006068 A2=FFFF8008 A3=FFFF8004 A4=00070096 A5=00000000 A6=000217A8 A7=00005DF6 D0=01040030 D1=0000007F D2=FFFF2303 D3=00000000 D4=00000B6F D5=00000BB8 D6=0000D800 D7=00400C01 xnZvc
00:1DD4  4E 71  NOP                              A0=0005C006 A1=00006068 A2=FFFF8008 A3=FFFF8004 A4=00070096 A5=00000000 A6=000217A8 A7=00005DF6 D0=01040030 D1=0000007F D2=FFFF2303 D3=00000000 D4=00000B6F D5=00000BB8 D6=0000D800 D7=00400C01 xnZvc
00:1DD6  30 D2  MOVE.w  (A2),(A0)+               A0=0005C006 A1=00006068 A2=FFFF8008 A3=FFFF8004 A4=00070096 A5=00000000 A6=000217A8 A7=00005DF6 D0=01040030 D1=0000007F D2=FFFF2303 D3=00000000 D4=00000B6F D5=00000BB8 D6=0000D800 D7=00400C01 xnZvc
00:1DD8  4E 71  NOP                              A0=0005C008 A1=00006068 A2=FFFF8008 A3=FFFF8004 A4=00070096 A5=00000000 A6=000217A8 A7=00005DF6 D0=01040030 D1=0000007F D2=FFFF2303 D3=00000000 D4=00000B6F D5=00000BB8 D6=0000D800 D7=00400C01 xnZvc
00:1DDA  30 D2  MOVE.w  (A2),(A0)+               A0=0005C008 A1=00006068 A2=FFFF8008 A3=FFFF8004 A4=00070096 A5=00000000 A6=000217A8 A7=00005DF6 D0=01040030 D1=0000007F D2=FFFF2303 D3=00000000 D4=00000B6F D5=00000BB8 D6=0000D800 D7=00400C01 xnZvc
00:1DDC  4E 71  NOP                              A0=0005C00A A1=00006068 A2=FFFF8008 A3=FFFF8004 A4=00070096 A5=00000000 A6=000217A8 A7=00005DF6 D0=01040030 D1=0000007F D2=FFFF2303 D3=00000000 D4=00000B6F D5=00000BB8 D6=0000D800 D7=00400C01 xnZvc
00:1DDE  30 D2  MOVE.w  (A2),(A0)+               A0=0005C00A A1=00006068 A2=FFFF8008 A3=FFFF8004 A4=00070096 A5=00000000 A6=000217A8 A7=00005DF6 D0=01040030 D1=0000007F D2=FFFF2303 D3=00000000 D4=00000B6F D5=00000BB8 D6=0000D800 D7=00400C01 xnZvc
00:1DE0  4E 71  NOP                              A0=0005C00C A1=00006068 A2=FFFF8008 A3=FFFF8004 A4=00070096 A5=00000000 A6=000217A8 A7=00005DF6 D0=01040030 D1=0000007F D2=FFFF2303 D3=00000000 D4=00000B6F D5=00000BB8 D6=0000D800 D7=00400C01 xnZvc
00:1DE2  30 D2  MOVE.w  (A2),(A0)+               A0=0005C00C A1=00006068 A2=FFFF8008 A3=FFFF8004 A4=00070096 A5=00000000 A6=000217A8 A7=00005DF6 D0=01040030 D1=0000007F D2=FFFF2303 D3=00000000 D4=00000B6F D5=00000BB8 D6=0000D800 D7=00400C01 xnZvc
00:1DE4  4E 71  NOP                              A0=0005C00E A1=00006068 A2=FFFF8008 A3=FFFF8004 A4=00070096 A5=00000000 A6=000217A8 A7=00005DF6 D0=01040030 D1=0000007F D2=FFFF2303 D3=00000000 D4=00000B6F D5=00000BB8 D6=0000D800 D7=00400C01 xnZvc
00:1DE6  30 D2  MOVE.w  (A2),(A0)+               A0=0005C00E A1=00006068 A2=FFFF8008 A3=FFFF8004 A4=00070096 A5=00000000 A6=000217A8 A7=00005DF6 D0=01040030 D1=0000007F D2=FFFF2303 D3=00000000 D4=00000B6F D5=00000BB8 D6=0000D800 D7=00400C01 xnZvc
00:1DE8  4E 71  NOP                              A0=0005C010 A1=00006068 A2=FFFF8008 A3=FFFF8004 A4=00070096 A5=00000000 A6=000217A8 A7=00005DF6 D0=01040030 D1=0000007F D2=FFFF2303 D3=00000000 D4=00000B6F D5=00000BB8 D6=0000D800 D7=00400C01 xnZvc
00:1DEA  51 C9  DBFa    D1,#$FFDE [00:1DCA]      A0=0005C010 A1=00006068 A2=FFFF8008 A3=FFFF8004 A4=00070096 A5=00000000 A6=000217A8 A7=00005DF6 D0=01040030 D1=0000007F D2=FFFF2303 D3=00000000 D4=00000B6F D5=00000BB8 D6=0000D800 D7=00400C01 xnZvc

00:1DEE  4E 75  RTS                              A0=0005C800 A1=00006068 A2=FFFF8008 A3=FFFF8004 A4=00070096 A5=00000000 A6=000217A8 A7=00005DF6 D0=01040030 D1=0000FFFF D2=FFFF2303 D3=00000000 D4=00000B6F D5=00000BB8 D6=0000D800 D7=00400C01 xnZvc
